import{j as L,k as C,h as g,a as k,L as D,i as F}from"./index-e0aacc58.js";import{F as E}from"./DiffFilter-2a3008e5.js";import{d as y,b as A,g as j,Y as B,a0 as x,c as O,e as T,w as l,j as w,f as n,u as o}from"./vendor-60dab89d.js";const f=[{en:"referenceLevelCode",cn:"\u53C2\u8003\u7EA7\u522B",children:[],multi:!0,multidime:!0},{en:"causeOfActionCode",cn:"\u6848\u7531",multi:!0,multidime:!0},{en:"courtLevelCode",cn:"\u6CD5\u9662\u5C42\u7EA7",multi:!1,multidime:!0},{en:"courtCode",cn:"\u5730\u57DF",multi:!1,multidime:!0},{en:"dates",cn:"\u65F6\u95F4",multi:!1,multidime:!1},{en:"procedureCode",cn:"\u5BA1\u7406\u7A0B\u5E8F",multi:!1,multidime:!1},{en:"docTypeCode",cn:"\u6587\u4E66\u6027\u8D28",multi:!1,multidime:!1}],G=(t,e)=>(t==null||t.forEach(a=>a.root=e),t),_=t=>(t==null||t.forEach(e=>{e.link=`/case/detail/${e.docId}`,e.tl=e.courtName,e.tr=e.caseNumber,e.bl=e.judgementDate;for(let a in e.hl)e[a]=e.hl[a].length>0&&e.hl[a][0]}),t||[]);var b=y("case",{state:()=>({total:0,caseGData:{},pullLoad:!1,finished:!1,listLoad:!1,caseList:[]}),actions:{async getCaseList(t,e){var u;const{ok:a,data:s}=await L(t);s.onEdit=e,a&&(t.f===2&&(this.caseGData=s),s.pages=Math.ceil(parseInt(s.total)/5),((u=this.caseList)==null?void 0:u.length)&&t.page!==1?this.caseList.push(...s.cases):this.caseList=s.cases,this.pullLoad=!1,this.listLoad=!1,this.total=s.total,this.finished=t.p===s.pages)}},getters:{list(){return _(this.caseList)},fList(){return this.caseGData.noEdit||f.forEach(t=>{t.children=t.multidime?C(this.caseGData[t.en],t.en):G(this.caseGData[t.en],t.en)}),f}}});const M={class:"law-list"},S=A({props:{k:null},setup(t){const e=j({sort:4,sl:[5,4,6],data:{page:1,size:1,keywords:[""],searchOption:["referenceLevelCode:","causeOfActionCode:","courtLevelCode:","courtCode:","judgementDate:","procedureCode:","docTypeCode:","caseTypeCode:"],f:2,keys:[""],sort:4}}),a=b(),s=()=>{e.data.f=7,e.data.page=1,a.pullLoad=!0,a.getCaseList(e.data,!0)},u=()=>{e.data.page++,e.data.f=7,a.listLoad=!0,a.getCaseList(e.data)},m=i=>{e.sort=i,e.data.f=7,e.data.page=1,e.data.sort=i,a.getCaseList(e.data,!0)},h=i=>{i&&(e.data.searchOption=["referenceLevelCode:","causeOfActionCode:","courtLevelCode:","courtCode:","judgementDate:","procedureCode:","docTypeCode:","caseTypeCode:"],e.data.searchOption.forEach((r,p)=>{i.forEach(d=>{d.id=d.id==="dates"?"judgementDate":d.id,r.includes(d.id)&&d.path&&(e.data.searchOption[p]+=d.path+"_")})}),e.data.f=7,e.sort=i.size?-1:4,a.getCaseList(e.data,!0))},c=()=>{t.k&&(e.data.keys.splice(1,1,t.k),e.data.keywords.splice(1,1,`titleMix:"${t.k}"`)),e.data.page=1,a.total=0,a.getCaseList(e.data)};return B(c),x(()=>F(c)),(i,r)=>(O(),T(D,{k:t.k,num:o(a).total,t:"case"},{default:l(()=>[w("div",M,[n(E,{list:o(a).fList,t:"\u53C2\u8003\u7EA7\u522B",num:o(a).total,sl:o(e).sl,sort:o(e).sort,onSort:m,onFix:h},null,8,["list","num","sl","sort"]),n(k,{pload:o(a).pullLoad,lload:o(a).listLoad,fflag:o(a).finished,onDs:s,onUs:u},{default:l(()=>[n(g,{list:o(a).list},null,8,["list"])]),_:1},8,["pload","lload","fflag"])])]),_:1},8,["k","num"]))}});export{S as default};
